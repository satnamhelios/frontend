<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Facebook Sign-In</title>
  </head>
  <body>
    <!-- Load the Facebook SDK -->
    <script
      async
      defer
      crossorigin="anonymous"
      src="https://connect.facebook.net/en_US/sdk.js"
    ></script>

    <div id="fb-root"></div>
    <script>
      // Initialize the SDK
      window.fbAsyncInit = function () {
        FB.init({
          appId: "1183716072772747", // Replace with your Facebook App ID
          cookie: true, // Enable cookies to allow the server to access the session
          xfbml: true, // Parse social plugins on this webpage
          version: "v13.0", // Use this Graph API version
        });

        // Check login status on load
        FB.getLoginStatus(function (response) {
          statusChangeCallback(response);
        });
      };

      function statusChangeCallback(response) {
        if (response.status === "connected") {
          // Logged into your app and Facebook.
          handleLoginResponse(response.authResponse);
        } else {
          // Not logged into your app or we are unable to tell.
          console.log("Please log into this app.");
        }
      }

      function checkLoginState() {
        FB.getLoginStatus(function (response) {
          statusChangeCallback(response);
        });
      }

      function handleLoginResponse(authResponse) {
        console.log("Access Token: " + authResponse.accessToken);
        // Send the Access Token to your backend for verification
      }
    </script>

    <!-- Facebook Login Button -->
    <fb:login-button scope="public_profile,email" onlogin="checkLoginState();">
    </fb:login-button>
  </body>
</html>
